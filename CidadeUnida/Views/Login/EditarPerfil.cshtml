@model CidadeUnida.ViewModels.PerfilViewModel

@{
    ViewData["Title"] = "Editar Perfil";
    var successMessage = TempData["SuccessMessage"] as string;
}

@if (!string.IsNullOrEmpty(successMessage))
{
    <div id="success-alert" class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4" role="alert">
        <strong class="font-bold">Sucesso!</strong>
        <span class="block sm:inline">@successMessage</span>
        <button onclick="closeAlert()" class="absolute top-0 bottom-0 right-0 px-4 py-3">
            <svg class="fill-current h-6 w-6 text-green-500" role="button" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
                <title>Fechar</title>
                <path d="M14.348 5.652a.5.5 0 00-.707 0L10 9.293 6.357 5.65a.5.5 0 10-.707.707L9.293 10l-3.64 3.64a.5.5 0 10.707.707L10 10.707l3.643 3.64a.5.5 0 00.707-.707L10.707 10l3.641-3.641a.5.5 0 000-.707z" />
            </svg>
        </button>
    </div>

}

<script>
    function closeAlert() {
        document.getElementById("success-alert").style.display = "none";
    }
</script>

<div class="min-h-screen flex items-center justify-center bg-gray-100 rounded-lg py-6 px-4 sm:px-6 lg:px-8">
    <div class="max-w-md w-full space-y-8 bg-white p-8 shadow-md rounded-lg">
        <h2 class="text-2xl font-bold text-center text-gray-700">Editar Perfil</h2>

        <form asp-action="EditarPerfil" method="post">

            <div class="mb-4">
                <label for="Nome" class="block text-sm font-medium text-gray-700">Nome</label>
                <input asp-for="Nome" id="Nome" name="Nome" type="text" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-verde-paleta focus:border-verde-paleta" value="@Model.Nome" required>
                <span asp-validation-for="Nome" class="text-red-600 text-sm"></span>
            </div>

            <div class="mb-4">
                <label for="Email" class="block text-sm font-medium text-gray-700">Email</label>
                <input asp-for="Email" id="Email" name="Email" type="email" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-verde-paleta focus:border-verde-paleta" value="@Model.Email" required>
                <span asp-validation-for="Email" class="text-red-600 text-sm"></span>
            </div>

            <div class="mb-4">
                <label for="Telefone" class="block text-sm font-medium text-gray-700">Telefone</label>
                <input asp-for="Telefone" id="Telefone" name="Telefone" type="text" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-verde-paleta focus:border-verde-paleta" value="@Model.Telefone" required>
                <span asp-validation-for="Telefone" class="text-red-600 text-sm"></span>
            </div>

            <div class="mb-4">
                <label for="Senha" class="block text-sm font-medium text-gray-700">Senha</label>
                <input asp-for="Senha" id="Senha" name="Senha" type="password" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-verde-paleta focus:border-verde-paleta">
                <span asp-validation-for="Senha" class="text-red-600 text-sm"></span>
            </div>

            <div class="mb-4">
                <label for="ConfirmarSenha" class="block text-sm font-medium text-gray-700">Confirmar Senha</label>
                <input asp-for="ConfirmarSenha" id="ConfirmarSenha" name="ConfirmarSenha" type="password" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-verde-paleta focus:border-verde-paleta">
                <span asp-validation-for="ConfirmarSenha" class="text-red-600 text-sm"></span>
            </div>

            <div class="flex items-center justify-between">
                <input type="submit" value="Atualizar Perfil" class="w-full duration-500 py-2 px-4 bg-verde-paleta text-white font-bold rounded-md shadow-md hover:bg-verde-escuro-paleta focus:outline-none focus:ring-2 focus:ring-verde-paleta focus:ring-offset-2">
            </div>
        </form>

        <!-- Botão de Desconectar -->
        <div class="mt-6 flex items-center justify-center">
            <a asp-action="Logout" type="button" class="rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-600 inline-flex items-center duration-500">
                <span class="material-symbols-outlined flex items-center justify-center w-5 h-5 mr-2">logout</span> Desconectar
            </a>
        </div>

    </div>
</div>
